<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Diagnose data quality of categorical variables — diagnose_category • dlookr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Diagnose data quality of categorical variables — diagnose_category"><meta property="og:description" content="The diagnose_category() produces information for
diagnosing the quality of the variables of data.frame or tbl_df."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dlookr</a>
<<<<<<< HEAD
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.3.9005</span>
=======
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.3</span>
>>>>>>> 2455413f029244b566a37aeed1916eea79ac483b
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/introduce.html">Introduce dlookr</a>
</li>
<li>
  <a href="../articles/diagonosis.html">Data Diagnosis</a>
</li>
<li>
  <a href="../articles/EDA.html">EDA</a>
</li>
<li>
  <a href="../articles/transformation.html">Data Transformation</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">Function reference</a>
</li>
<li>
  <a href="https://github.com/choonghyunryu/dlookr/" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Diagnose data quality of categorical variables</h1>
    <small class="dont-index">Source: <a href="https://github.com/choonghyunryu/dlookr/blob/HEAD/R/diagnose.R" class="external-link"><code>R/diagnose.R</code></a></small>
    <div class="hidden name"><code>diagnose_category.data.frame.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The diagnose_category() produces information for
diagnosing the quality of the variables of data.frame or tbl_df.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">diagnose_category</span><span class="op">(</span><span class="va">.data</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">diagnose_category</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  top <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rank"</span>, <span class="st">"n"</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>  add_character <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_date <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for grouped_df</span></span>
<span><span class="fu">diagnose_category</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  top <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rank"</span>, <span class="st">"n"</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>  add_character <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_date <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.data</dt>
<dd><p>a data.frame or a <code><a href="https://dplyr.tidyverse.org/reference/tbl_df.html" class="external-link">tbl_df</a></code> or a <code><a href="https://dplyr.tidyverse.org/reference/grouped_df.html" class="external-link">grouped_df</a></code>.</p></dd>


<dt>...</dt>
<dd><p>one or more unquoted expressions separated by commas.
You can treat variable names like they are positions.
Positive values select variables; negative values to drop variables.
If the first expression is negative, diagnose_category() will automatically
start with all variables.
These arguments are automatically quoted and evaluated in a context where
column names represent column positions.
They support unquoting and splicing.</p></dd>


<dt>top</dt>
<dd><p>an integer. Specifies the upper top rows or rank to extract.
Default is 10.</p></dd>


<dt>type</dt>
<dd><p>a character string specifying how result are extracted.
"rank" that extract top n ranks by decreasing frequency. 
In this case, if there are ties in rank, more rows than the number specified 
by the top argument are returned.
Default is "n" extract only top n rows by decreasing frequency. 
If there are too many rows to be returned because there are too many ties, 
you can adjust the returned rows appropriately by using "n".</p></dd>


<dt>add_character</dt>
<dd><p>logical. Decide whether to include text variables in the
diagnosis of categorical data. The default value is TRUE, which also includes character variables.</p></dd>


<dt>add_date</dt>
<dd><p>ogical. Decide whether to include Date and POSIXct variables in the
diagnosis of categorical data. The default value is TRUE, which also includes character variables.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>an object of tbl_df.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The scope of the diagnosis is the occupancy status of the levels
in categorical data. If a certain level of occupancy is close to 100<!-- %, -->
then the removal of this variable in the forecast model will have to be
considered. Also, if the occupancy of all levels is close to 0<!-- %, this -->
variable is likely to be an identifier.</p>
    </div>
    <div id="categorical-diagnostic-information">
    <h2>Categorical diagnostic information</h2>
    

<p>The information derived from the categorical data diagnosis is as follows.</p>
<ul><li><p>variables : variable names</p></li>
<li><p>levels: level names</p></li>
<li><p>N : number of observation</p></li>
<li><p>freq : number of observation at the levels</p></li>
<li><p>ratio : percentage of observation at the levels</p></li>
<li><p>rank : rank of occupancy ratio of levels</p></li>
</ul><p>See vignette("diagonosis") for an introduction to these concepts.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="diagnose_category.tbl_dbi.html">diagnose_category.tbl_dbi</a></code>, <code><a href="diagnose.data.frame.html">diagnose.data.frame</a></code>, <code><a href="diagnose_numeric.data.frame.html">diagnose_numeric.data.frame</a></code>, <code><a href="diagnose_outlier.data.frame.html">diagnose_outlier.data.frame</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Diagnosis of categorical variables</span></span></span>
<span class="r-in"><span><span class="fu">diagnose_category</span><span class="op">(</span><span class="va">jobchange</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              variables                  levels     N  freq        ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          enrollee_id                       1 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          enrollee_id                      10 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          enrollee_id                   10000 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          enrollee_id                   10001 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          enrollee_id                   10002 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          enrollee_id                   10003 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          enrollee_id                   10004 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          enrollee_id                   10005 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9          enrollee_id                   10006 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10         enrollee_id                   10008 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                city                city_103 19158  4355 22.732017956    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                city                 city_21 19158  2702 14.103768661    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                city                 city_16 19158  1533  8.001879111    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                city                city_114 19158  1336  6.973588057    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                city                city_160 19158   845  4.410690051    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                city                city_136 19158   586  3.058774402    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                city                 city_67 19158   431  2.249712914    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                city                 city_75 19158   305  1.592024220    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                city                city_102 19158   304  1.586804468    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                city                city_104 19158   301  1.571145213   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21              gender                    Male 19158 13221 69.010335108    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22              gender                    &lt;NA&gt; 19158  4508 23.530639942    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23              gender                  Female 19158  1238  6.462052406    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24              gender                   Other 19158   191  0.996972544    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 relevent_experience Has relevent experience 19158 13792 71.990813237    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 relevent_experience  No relevent experience 19158  5366 28.009186763    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 enrolled_university           no_enrollment 19158 13817 72.121307026    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 enrolled_university        Full time course 19158  3757 19.610606535    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 enrolled_university        Part time course 19158  1198  6.253262345    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 enrolled_university                    &lt;NA&gt; 19158   386  2.014824094    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31     education_level                Graduate 19158 11598 60.538678359    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32     education_level                 Masters 19158  4361 22.763336465    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33     education_level             High School 19158  2017 10.528238856    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34     education_level                    &lt;NA&gt; 19158   460  2.401085708    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35     education_level                     Phd 19158   414  2.160977137    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36     education_level          Primary School 19158   308  1.607683474    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37    major_discipline                    STEM 19158 14492 75.644639315    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38    major_discipline                    &lt;NA&gt; 19158  2813 14.683161082    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39    major_discipline              Humanities 19158   669  3.492013780    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40    major_discipline                   Other 19158   381  1.988725337    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41    major_discipline         Business Degree 19158   327  1.706858754    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42    major_discipline                    Arts 19158   253  1.320597140    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43    major_discipline                No Major 19158   223  1.164004593    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44          experience                     &gt;20 19158  3286 17.152103560    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45          experience                       5 19158  1430  7.464244702    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46          experience                       4 19158  1403  7.323311410    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47          experience                       3 19158  1354  7.067543585    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48          experience                       6 19158  1216  6.347217872    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49          experience                       2 19158  1127  5.882659985    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50          experience                       7 19158  1028  5.365904583    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51          experience                      10 19158   985  5.141455267    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52          experience                       9 19158   980  5.115356509    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53          experience                       8 19158   802  4.186240735   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54        company_size                    &lt;NA&gt; 19158  5938 30.994884643    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55        company_size                   50-99 19158  3083 16.092493997    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56        company_size                 100-499 19158  2571 13.419981209    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57        company_size                  10000+ 19158  2019 10.538678359    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58        company_size                   10-49 19158  1471  7.678254515    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59        company_size               1000-4999 19158  1328  6.931830045    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60        company_size                     &lt;10 19158  1308  6.827435014    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61        company_size                 500-999 19158   877  4.577722100    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62        company_size               5000-9999 19158   563  2.938720117    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63        company_type                 Pvt Ltd 19158  9817 51.242300866    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64        company_type                    &lt;NA&gt; 19158  6140 32.049274455    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65        company_type          Funded Startup 19158  1001  5.224971291    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66        company_type           Public Sector 19158   955  4.984862721    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67        company_type     Early Stage Startup 19158   603  3.147510179    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68        company_type                     NGO 19158   521  2.719490552    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69        company_type                   Other 19158   121  0.631589936    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70        last_new_job                       1 19158  8040 41.966802380    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71        last_new_job                      &gt;4 19158  3290 17.172982566    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72        last_new_job                       2 19158  2900 15.137279465    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73        last_new_job                   never 19158  2452 12.798830776    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74        last_new_job                       4 19158  1029  5.371124334    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75        last_new_job                       3 19158  1024  5.345025577    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76        last_new_job                    &lt;NA&gt; 19158   423  2.207954901    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77           job_chnge                      No 19158 14381 75.065246894    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78           job_chnge                     Yes 19158  4777 24.934753106    2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select the variable to diagnose</span></span></span>
<span class="r-in"><span><span class="fu">diagnose_category</span><span class="op">(</span><span class="va">jobchange</span>, <span class="va">education_level</span>, <span class="va">company_type</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          variables              levels     N  freq      ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  education_level            Graduate 19158 11598 60.5386784    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  education_level             Masters 19158  4361 22.7633365    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  education_level         High School 19158  2017 10.5282389    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  education_level                &lt;NA&gt; 19158   460  2.4010857    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  education_level                 Phd 19158   414  2.1609771    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  education_level      Primary School 19158   308  1.6076835    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     company_type             Pvt Ltd 19158  9817 51.2423009    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     company_type                &lt;NA&gt; 19158  6140 32.0492745    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     company_type      Funded Startup 19158  1001  5.2249713    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    company_type       Public Sector 19158   955  4.9848627    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11    company_type Early Stage Startup 19158   603  3.1475102    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12    company_type                 NGO 19158   521  2.7194906    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13    company_type               Other 19158   121  0.6315899    7</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using pipes ---------------------------------</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Diagnosis of all categorical variables</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              variables                  levels     N  freq        ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          enrollee_id                       1 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          enrollee_id                      10 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          enrollee_id                   10000 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          enrollee_id                   10001 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          enrollee_id                   10002 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          enrollee_id                   10003 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          enrollee_id                   10004 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          enrollee_id                   10005 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9          enrollee_id                   10006 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10         enrollee_id                   10008 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                city                city_103 19158  4355 22.732017956    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                city                 city_21 19158  2702 14.103768661    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                city                 city_16 19158  1533  8.001879111    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                city                city_114 19158  1336  6.973588057    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                city                city_160 19158   845  4.410690051    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                city                city_136 19158   586  3.058774402    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                city                 city_67 19158   431  2.249712914    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                city                 city_75 19158   305  1.592024220    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                city                city_102 19158   304  1.586804468    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                city                city_104 19158   301  1.571145213   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21              gender                    Male 19158 13221 69.010335108    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22              gender                    &lt;NA&gt; 19158  4508 23.530639942    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23              gender                  Female 19158  1238  6.462052406    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24              gender                   Other 19158   191  0.996972544    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 relevent_experience Has relevent experience 19158 13792 71.990813237    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 relevent_experience  No relevent experience 19158  5366 28.009186763    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 enrolled_university           no_enrollment 19158 13817 72.121307026    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 enrolled_university        Full time course 19158  3757 19.610606535    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 enrolled_university        Part time course 19158  1198  6.253262345    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 enrolled_university                    &lt;NA&gt; 19158   386  2.014824094    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31     education_level                Graduate 19158 11598 60.538678359    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32     education_level                 Masters 19158  4361 22.763336465    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33     education_level             High School 19158  2017 10.528238856    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34     education_level                    &lt;NA&gt; 19158   460  2.401085708    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35     education_level                     Phd 19158   414  2.160977137    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36     education_level          Primary School 19158   308  1.607683474    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37    major_discipline                    STEM 19158 14492 75.644639315    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38    major_discipline                    &lt;NA&gt; 19158  2813 14.683161082    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39    major_discipline              Humanities 19158   669  3.492013780    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40    major_discipline                   Other 19158   381  1.988725337    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41    major_discipline         Business Degree 19158   327  1.706858754    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42    major_discipline                    Arts 19158   253  1.320597140    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43    major_discipline                No Major 19158   223  1.164004593    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44          experience                     &gt;20 19158  3286 17.152103560    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45          experience                       5 19158  1430  7.464244702    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46          experience                       4 19158  1403  7.323311410    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47          experience                       3 19158  1354  7.067543585    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48          experience                       6 19158  1216  6.347217872    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49          experience                       2 19158  1127  5.882659985    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50          experience                       7 19158  1028  5.365904583    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51          experience                      10 19158   985  5.141455267    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52          experience                       9 19158   980  5.115356509    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53          experience                       8 19158   802  4.186240735   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54        company_size                    &lt;NA&gt; 19158  5938 30.994884643    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55        company_size                   50-99 19158  3083 16.092493997    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56        company_size                 100-499 19158  2571 13.419981209    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57        company_size                  10000+ 19158  2019 10.538678359    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58        company_size                   10-49 19158  1471  7.678254515    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59        company_size               1000-4999 19158  1328  6.931830045    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60        company_size                     &lt;10 19158  1308  6.827435014    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61        company_size                 500-999 19158   877  4.577722100    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62        company_size               5000-9999 19158   563  2.938720117    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63        company_type                 Pvt Ltd 19158  9817 51.242300866    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64        company_type                    &lt;NA&gt; 19158  6140 32.049274455    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65        company_type          Funded Startup 19158  1001  5.224971291    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66        company_type           Public Sector 19158   955  4.984862721    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67        company_type     Early Stage Startup 19158   603  3.147510179    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68        company_type                     NGO 19158   521  2.719490552    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69        company_type                   Other 19158   121  0.631589936    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70        last_new_job                       1 19158  8040 41.966802380    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71        last_new_job                      &gt;4 19158  3290 17.172982566    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72        last_new_job                       2 19158  2900 15.137279465    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73        last_new_job                   never 19158  2452 12.798830776    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74        last_new_job                       4 19158  1029  5.371124334    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75        last_new_job                       3 19158  1024  5.345025577    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76        last_new_job                    &lt;NA&gt; 19158   423  2.207954901    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77           job_chnge                      No 19158 14381 75.065246894    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78           job_chnge                     Yes 19158  4777 24.934753106    2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Positive values select variables</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu">diagnose_category</span><span class="op">(</span><span class="va">company_type</span>, <span class="va">job_chnge</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      variables              levels     N  freq      ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 company_type             Pvt Ltd 19158  9817 51.2423009    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 company_type                &lt;NA&gt; 19158  6140 32.0492745    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 company_type      Funded Startup 19158  1001  5.2249713    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 company_type       Public Sector 19158   955  4.9848627    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 company_type Early Stage Startup 19158   603  3.1475102    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 company_type                 NGO 19158   521  2.7194906    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 company_type               Other 19158   121  0.6315899    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    job_chnge                  No 19158 14381 75.0652469    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    job_chnge                 Yes 19158  4777 24.9347531    2</span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co"># Negative values to drop variables</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="op">-</span><span class="va">company_type</span>, <span class="op">-</span><span class="va">job_chnge</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              variables                  levels     N  freq        ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          enrollee_id                       1 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          enrollee_id                      10 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          enrollee_id                   10000 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          enrollee_id                   10001 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          enrollee_id                   10002 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          enrollee_id                   10003 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7          enrollee_id                   10004 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8          enrollee_id                   10005 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9          enrollee_id                   10006 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10         enrollee_id                   10008 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                city                city_103 19158  4355 22.732017956    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                city                 city_21 19158  2702 14.103768661    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                city                 city_16 19158  1533  8.001879111    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                city                city_114 19158  1336  6.973588057    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                city                city_160 19158   845  4.410690051    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                city                city_136 19158   586  3.058774402    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                city                 city_67 19158   431  2.249712914    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                city                 city_75 19158   305  1.592024220    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                city                city_102 19158   304  1.586804468    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                city                city_104 19158   301  1.571145213   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21              gender                    Male 19158 13221 69.010335108    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22              gender                    &lt;NA&gt; 19158  4508 23.530639942    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23              gender                  Female 19158  1238  6.462052406    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24              gender                   Other 19158   191  0.996972544    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 relevent_experience Has relevent experience 19158 13792 71.990813237    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 relevent_experience  No relevent experience 19158  5366 28.009186763    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 enrolled_university           no_enrollment 19158 13817 72.121307026    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 enrolled_university        Full time course 19158  3757 19.610606535    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 enrolled_university        Part time course 19158  1198  6.253262345    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 enrolled_university                    &lt;NA&gt; 19158   386  2.014824094    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31     education_level                Graduate 19158 11598 60.538678359    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32     education_level                 Masters 19158  4361 22.763336465    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33     education_level             High School 19158  2017 10.528238856    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34     education_level                    &lt;NA&gt; 19158   460  2.401085708    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35     education_level                     Phd 19158   414  2.160977137    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36     education_level          Primary School 19158   308  1.607683474    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37    major_discipline                    STEM 19158 14492 75.644639315    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38    major_discipline                    &lt;NA&gt; 19158  2813 14.683161082    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39    major_discipline              Humanities 19158   669  3.492013780    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40    major_discipline                   Other 19158   381  1.988725337    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41    major_discipline         Business Degree 19158   327  1.706858754    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42    major_discipline                    Arts 19158   253  1.320597140    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43    major_discipline                No Major 19158   223  1.164004593    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44          experience                     &gt;20 19158  3286 17.152103560    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45          experience                       5 19158  1430  7.464244702    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46          experience                       4 19158  1403  7.323311410    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47          experience                       3 19158  1354  7.067543585    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48          experience                       6 19158  1216  6.347217872    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49          experience                       2 19158  1127  5.882659985    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50          experience                       7 19158  1028  5.365904583    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51          experience                      10 19158   985  5.141455267    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52          experience                       9 19158   980  5.115356509    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53          experience                       8 19158   802  4.186240735   10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54        company_size                    &lt;NA&gt; 19158  5938 30.994884643    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55        company_size                   50-99 19158  3083 16.092493997    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56        company_size                 100-499 19158  2571 13.419981209    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57        company_size                  10000+ 19158  2019 10.538678359    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58        company_size                   10-49 19158  1471  7.678254515    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59        company_size               1000-4999 19158  1328  6.931830045    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60        company_size                     &lt;10 19158  1308  6.827435014    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61        company_size                 500-999 19158   877  4.577722100    8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62        company_size               5000-9999 19158   563  2.938720117    9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63        last_new_job                       1 19158  8040 41.966802380    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64        last_new_job                      &gt;4 19158  3290 17.172982566    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65        last_new_job                       2 19158  2900 15.137279465    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66        last_new_job                   never 19158  2452 12.798830776    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67        last_new_job                       4 19158  1029  5.371124334    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68        last_new_job                       3 19158  1024  5.345025577    6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69        last_new_job                    &lt;NA&gt; 19158   423  2.207954901    7</span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Top rank levels with top argument</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span>top <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              variables                  levels     N  freq        ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          enrollee_id                       1 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          enrollee_id                      10 19158     1  0.005219752    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 city                city_103 19158  4355 22.732017956    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 city                 city_21 19158  2702 14.103768661    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5               gender                    Male 19158 13221 69.010335108    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6               gender                    &lt;NA&gt; 19158  4508 23.530639942    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  relevent_experience Has relevent experience 19158 13792 71.990813237    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  relevent_experience  No relevent experience 19158  5366 28.009186763    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  enrolled_university           no_enrollment 19158 13817 72.121307026    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 enrolled_university        Full time course 19158  3757 19.610606535    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     education_level                Graduate 19158 11598 60.538678359    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     education_level                 Masters 19158  4361 22.763336465    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13    major_discipline                    STEM 19158 14492 75.644639315    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14    major_discipline                    &lt;NA&gt; 19158  2813 14.683161082    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15          experience                     &gt;20 19158  3286 17.152103560    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          experience                       5 19158  1430  7.464244702    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17        company_size                    &lt;NA&gt; 19158  5938 30.994884643    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18        company_size                   50-99 19158  3083 16.092493997    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19        company_type                 Pvt Ltd 19158  9817 51.242300866    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20        company_type                    &lt;NA&gt; 19158  6140 32.049274455    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21        last_new_job                       1 19158  8040 41.966802380    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22        last_new_job                      &gt;4 19158  3290 17.172982566    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23           job_chnge                      No 19158 14381 75.065246894    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24           job_chnge                     Yes 19158  4777 24.934753106    2</span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Using pipes &amp; dplyr -------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Extraction of level that is more than 60% of categorical data</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ratio</span> <span class="op">&gt;=</span> <span class="fl">60</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             variables                  levels     N  freq    ratio rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              gender                    Male 19158 13221 69.01034    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 relevent_experience Has relevent experience 19158 13792 71.99081    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 enrolled_university           no_enrollment 19158 13817 72.12131    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     education_level                Graduate 19158 11598 60.53868    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    major_discipline                    STEM 19158 14492 75.64464    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           job_chnge                      No 19158 14381 75.06525    1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># All observations of enrollee_id have a rank of 1. </span></span></span>
<span class="r-in"><span><span class="co"># Because it is a unique identifier. Therefore, if you select up to the top rank 3, </span></span></span>
<span class="r-in"><span><span class="co"># all records are displayed. It will probably fill your screen.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract rows that less than equal rank 3</span></span></span>
<span class="r-in"><span><span class="co"># default of type argument is "n"</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="va">enrollee_id</span>, top <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variables   levels     N  freq   ratio  rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> enrollee_id 1      <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> enrollee_id 10     <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> enrollee_id 10000  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract rows that less than equal rank 3</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="va">enrollee_id</span>, top <span class="op">=</span> <span class="fl">3</span>, type <span class="op">=</span> <span class="st">"rank"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 19,158 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    variables   levels     N  freq   ratio  rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> enrollee_id 1      <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> enrollee_id 10     <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> enrollee_id 10000  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> enrollee_id 10001  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> enrollee_id 10002  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> enrollee_id 10003  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> enrollee_id 10004  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> enrollee_id 10005  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> enrollee_id 10006  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> enrollee_id 10008  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 19,148 more rows</span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="co"># extract only 3 rows</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="va">enrollee_id</span>, top <span class="op">=</span> <span class="fl">3</span>, type <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variables   levels     N  freq   ratio  rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> enrollee_id 1      <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> enrollee_id 10     <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> enrollee_id 10000  <span style="text-decoration: underline;">19</span>158     1 0.005<span style="text-decoration: underline;">22</span>     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using group_by ------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Calculate the diagnosis of 'company_type' variable by 'job_chnge' using group_by()</span></span></span>
<span class="r-in"><span><span class="va">jobchange</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">job_chnge</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span></span>
<span class="r-in"><span>  <span class="fu">diagnose_category</span><span class="op">(</span><span class="va">company_type</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 14 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    variables    job_chnge levels                  N  freq  ratio  rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> company_type No        Pvt Ltd             <span style="text-decoration: underline;">14</span>381  <span style="text-decoration: underline;">8</span>042 55.9       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> company_type No        <span style="color: #BB0000;">NA</span>                  <span style="text-decoration: underline;">14</span>381  <span style="text-decoration: underline;">3</span>756 26.1       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> company_type No        Funded Startup      <span style="text-decoration: underline;">14</span>381   861  5.99      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> company_type No        Public Sector       <span style="text-decoration: underline;">14</span>381   745  5.18      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> company_type No        Early Stage Startup <span style="text-decoration: underline;">14</span>381   461  3.21      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> company_type No        NGO                 <span style="text-decoration: underline;">14</span>381   424  2.95      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> company_type No        Other               <span style="text-decoration: underline;">14</span>381    92  0.640     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> company_type Yes       <span style="color: #BB0000;">NA</span>                   <span style="text-decoration: underline;">4</span>777  <span style="text-decoration: underline;">2</span>384 49.9       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> company_type Yes       Pvt Ltd              <span style="text-decoration: underline;">4</span>777  <span style="text-decoration: underline;">1</span>775 37.2       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> company_type Yes       Public Sector        <span style="text-decoration: underline;">4</span>777   210  4.40      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> company_type Yes       Early Stage Startup  <span style="text-decoration: underline;">4</span>777   142  2.97      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> company_type Yes       Funded Startup       <span style="text-decoration: underline;">4</span>777   140  2.93      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> company_type Yes       NGO                  <span style="text-decoration: underline;">4</span>777    97  2.03      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> company_type Yes       Other                <span style="text-decoration: underline;">4</span>777    29  0.607     7</span>
<span class="r-in"><span><span class="co"># }   </span></span></span>
<span class="r-in"><span>  </span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Choonghyun Ryu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

